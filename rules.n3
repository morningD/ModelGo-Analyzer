@prefix list: <http://www.w3.org/2000/10/swap/list#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix string: <http://www.w3.org/2000/10/swap/string#> .
@prefix log: <http://www.w3.org/2000/10/swap/log#> .
@prefix mg: <http://www.modelgo.li/rdf/terms#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

####    Global rules    ####
# Inheritance of class membership (rdfs:subClassOf
{
  ?b a ?B .
  ?B rdfs:subClassOf ?A .
} => {
  ?b a ?A .
} .

####    Predefined rules set up for analysis    ####
# All action instances will inherit the mg:actionId property from their parent action class.
# {
#     ?subA rdfs:subClassOf mg:Action .
#     ?subA mg:actionId ?id .
#     ?ac a ?subA
# } => { ?ac mg:actionId ?id }.

####    ML workflow eatablishing rules  ####
# Reasoning rules for registering a license to a work.
{
    ?action a mg:RegisterLicense .
    ?action!mg:hasInput mg:targetWork ?work .
    ?action!mg:hasInput mg:targetLicense ?license .
    ?work mg:workName ?name .
    ?action mg:actionId ?aid . 
    (?aid "_" ?name) string:concatenation ?newName .
} => {
    _:work a mg:Work ;
        mg:hasProvenance ?work ;
        mg:hasLicense ?license ;
        mg:workName ?newName .
    ?action!mg:hasOutput mg:targetWork _:work
} .

# <License Type Mismatch Warning>
# Report a warning if the license's target work type does not match the actual work type
#{
#    ?action a mg

#}

# :Let :param ( "hello" " " "world!" ) .

# {
#     :Let :param ?param .
#     ?param string:concatenation ?result .
# }
# =>
# {
#     :result :is ?result .
# } .